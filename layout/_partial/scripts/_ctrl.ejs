<%_
  // 为保证初次进入页面流畅，要求开启pjax且浏览器禁用Javascript时(仅HTML渲染)封面控制正常
  // layout/_plugins/pjax/pdata.ejs
  // layout/_partial/cover.ejs
  // layout/_partial/header.ejs
  theme.pjax_cover={}
  theme.pjax_cover.enableCover = false; // 封面是否开启
  theme.pjax_cover.frontMatterCover = 'none';  // 封面控制
  theme.pjax_cover.coverWrapperDisplay = 'none';
  theme.pjax_cover.scrollDownDisplay = 'none';
  theme.pjax_cover.headerShow = 'show';
  if(theme.cover && theme.cover.height_scheme) {
    theme.pjax_cover.enableCover = true;
  }
  if(theme.plugins.pjax.enable&&theme.plugins.pjax.cover) {
    theme.pjax_cover.enableCover = true;
  }
  if (theme.pjax_cover.enableCover && page && page.cover) {
    theme.pjax_cover.frontMatterCover = page.cover;
    if (is_home() && page.prev == 0 && theme.cover.height_scheme == 'full') {
    theme.pjax_cover.frontMatterCover = 'full';
    } else {
    theme.pjax_cover.frontMatterCover = 'half';
    }
  }
  /*cover*/
  if (theme.pjax_cover.frontMatterCover == "full") {
    theme.pjax_cover.coverWrapperDisplay= "";
    theme.pjax_cover.scrollDownDisplay = "";
  } else if (theme.pjax_cover.frontMatterCover == "half"){
    theme.pjax_cover.coverWrapperDisplay= "";
    theme.pjax_cover.scrollDownDisplay = "none";
  } else if (theme.pjax_cover.frontMatterCover == "none"){
    theme.pjax_cover.coverWrapperDisplay= "none";
    theme.pjax_cover.scrollDownDisplay = "none";
  }
  /*header*/
  if (theme.pjax_cover.frontMatterCover == "none") {
    theme.pjax_cover.headerShow="show";
  } else {
    theme.pjax_cover.headerShow="";
  }
_%>
